{"version":3,"file":"js/581.54317c30.js","mappings":"mMACOA,MAAM,a,GAOFA,MAAM,W,4BAOXC,EAAAA,EAAAA,GAAM,mB,SAEyCD,MAAM,c,0CAhBzDE,EAAAA,EAAAA,IAmBM,MAnBN,EAmBM,EAlBJD,EAAAA,EAAAA,GAIE,SAHKE,QAAK,oBAAEC,EAAAA,QAAAA,EAAAA,UAAAA,IACZC,YAAY,iCACZC,KAAK,QAHP,WAkBI,aAbJJ,EAAAA,EAAAA,IASKK,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IATcC,EAAAA,gBAARC,K,WAAXR,EAAAA,EAAAA,IASK,MAT+BS,IAAKD,GAAI,EAC3CT,EAAAA,EAAAA,GAMM,MANN,EAMM,EALJA,EAAAA,EAAAA,GAAyB,WAAAW,EAAAA,EAAAA,IAAlBF,EAAKG,OAAK,IACjBZ,EAAAA,EAAAA,GAGU,UAFPa,SAAUV,EAAAA,WAAWM,EAAKK,KAAKC,SAC3BC,QAAK,GAAEb,EAAAA,cAAcM,IAF5B,YAKFQ,OARF,MAaI,KAHYC,QAAUV,EAAAA,eAAeW,SAAAA,EAAAA,EAAAA,OAAzClB,EAAAA,EAAAA,IAEM,MAFN,EAAoE,uBAApE,iB,uBAUJ,GACEmB,WAAY,GACZN,OACE,MAAO,CACLO,eAAgB,GAChBH,MAAO,KAGXI,QAAS,CACPC,aAAaC,GACXC,KAAKP,MAAQM,EAAEE,OAAOd,MACtB,MAAMF,EAAM,2CACNiB,EAAU,CACdC,OAAQ,OACRC,KAAM,OACNC,QAAS,CACP,eAAgB,mBAChBC,OAAQ,mBACRC,cAAe,SAAWtB,UAGxBuB,IAAAA,IAED,8EAA6ER,KAAKP,qCACnFS,GAEDO,MACEC,GACEV,KAAKJ,eAAiBc,EAASrB,KAAKsB,YAAYC,QAC9C5B,GAASA,EAAKK,KAAKwB,OAAS,GAAK7B,EAAKK,KAAKyB,aAItDC,cAAcC,GACZhB,KAAKiB,OAAOC,SAAS,cAAe,CAClCC,OAAS,QAAOH,EAAO3B,KAAKyB,eAAeE,EAAO3B,KAAK+B,UACvDC,KAAML,EAAO7B,MACbmC,GAAIN,EAAO3B,KAAKC,QAChBiC,MAAM,KAGVC,WAAWF,GACT,OAAOtB,KAAKyB,MAAMC,SAASJ,KAG/BK,SAAU,CACRC,UACE,OAAO5B,KAAKiB,OAAOY,QAAQD,SAE7BH,QACE,IAAIH,EAAKtB,KAAK4B,QAAQE,KAAKC,GAAMA,EAAET,KACnC,OAAOA,K,QCzEb,MAAMU,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://weather-vue/./src/views/Search.vue","webpack://weather-vue/./src/views/Search.vue?a55f"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <input\r\n      v-on:input=\"search\"\r\n      placeholder=\"Начните вводить название места\"\r\n      type=\"text\"\r\n    />\r\n    <ul v-for=\"item in arrOfLocations\" :key=\"item\">\r\n      <div class=\"wrapper\">\r\n        <li>{{ item.value }}</li>\r\n        <button\r\n          :disabled=\"isDisabled(item.data.fias_id)\"\r\n          v-on:click=\"addToFavorite(item)\"\r\n        ></button>\r\n      </div>\r\n      <hr />\r\n    </ul>\r\n    <div v-if=\"this.query && !arrOfLocations.length\" class=\"no-results\">\r\n      Результатов нет\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport \"./../assets/styles/Search.scss\";\r\n\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      arrOfLocations: [],\r\n      query: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    async search(e) {\r\n      this.query = e.target.value;\r\n      const key = \"7b1d99ed6972e5a7c511659eafc3d2b66b4a8031\";\r\n      const options = {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n          Authorization: \"Token \" + key,\r\n        },\r\n      };\r\n      await axios\r\n        .get(\r\n          `https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address?query=${this.query}&count=6&language=ru&qc_geo=3`,\r\n          options\r\n        )\r\n        .then(\r\n          (response) =>\r\n            (this.arrOfLocations = response.data.suggestions.filter(\r\n              (item) => item.data.qc_geo > 1 && item.data.geo_lat\r\n            ))\r\n        );\r\n    },\r\n    addToFavorite(region) {\r\n      this.$store.dispatch(\"set_regions\", {\r\n        coords: `&lat=${region.data.geo_lat}&lon=${region.data.geo_lon}`,\r\n        name: region.value,\r\n        id: region.data.fias_id,\r\n        isMy: false,\r\n      });\r\n    },\r\n    isDisabled(id) {\r\n      return this.getID.includes(id);\r\n    },\r\n  },\r\n  computed: {\r\n    regions() {\r\n      return this.$store.getters.regions;\r\n    },\r\n    getID() {\r\n      let id = this.regions.map((x) => x.id);\r\n      return id;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Search.vue?vue&type=template&id=135417f7\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Данила\\\\Desktop\\\\fix\\\\wheater-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","onInput","$options","placeholder","type","_Fragment","_renderList","$data","item","key","_toDisplayString","value","disabled","data","fias_id","onClick","_hoisted_4","query","length","components","arrOfLocations","methods","async","e","this","target","options","method","mode","headers","Accept","Authorization","axios","then","response","suggestions","filter","qc_geo","geo_lat","addToFavorite","region","$store","dispatch","coords","geo_lon","name","id","isMy","isDisabled","getID","includes","computed","regions","getters","map","x","__exports__","render"],"sourceRoot":""}